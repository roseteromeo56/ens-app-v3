(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,36407,57401,e=>{"use strict";let t;var r=e.i(71167),s=e.i(26714),i=e.i(9286),n=e.i(69380),o=e.i(83441),u=e.i(76146),l=class extends n.Subscribable{constructor(e,t){super(),this.options=t,this.#e=e,this.#t=null,this.#r=(0,o.pendingThenable)(),this.options.experimental_prefetchInRender||this.#r.reject(Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(t)}#e;#s=void 0;#i=void 0;#n=void 0;#o;#u;#r;#t;#l;#a;#h;#c;#d;#f;#p=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){1===this.listeners.size&&(this.#s.addObserver(this),a(this.#s,this.options)?this.#m():this.updateResult(),this.#_())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return h(this.#s,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return h(this.#s,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#g(),this.#y(),this.#s.removeObserver(this)}setOptions(e){let t=this.options,r=this.#s;if(this.options=this.#e.defaultQueryOptions(e),void 0!==this.options.enabled&&"boolean"!=typeof this.options.enabled&&"function"!=typeof this.options.enabled&&"boolean"!=typeof(0,u.resolveEnabled)(this.options.enabled,this.#s))throw Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#v(),this.#s.setOptions(this.options),t._defaulted&&!(0,u.shallowEqualObjects)(this.options,t)&&this.#e.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#s,observer:this});let s=this.hasListeners();s&&c(this.#s,r,this.options,t)&&this.#m(),this.updateResult(),s&&(this.#s!==r||(0,u.resolveEnabled)(this.options.enabled,this.#s)!==(0,u.resolveEnabled)(t.enabled,this.#s)||(0,u.resolveStaleTime)(this.options.staleTime,this.#s)!==(0,u.resolveStaleTime)(t.staleTime,this.#s))&&this.#b();let i=this.#I();s&&(this.#s!==r||(0,u.resolveEnabled)(this.options.enabled,this.#s)!==(0,u.resolveEnabled)(t.enabled,this.#s)||i!==this.#f)&&this.#w(i)}getOptimisticResult(e){var t,r;let s=this.#e.getQueryCache().build(this.#e,e),i=this.createResult(s,e);return t=this,r=i,(0,u.shallowEqualObjects)(t.getCurrentResult(),r)||(this.#n=i,this.#u=this.options,this.#o=this.#s.state),i}getCurrentResult(){return this.#n}trackResult(e,t){return new Proxy(e,{get:(e,r)=>(this.trackProp(r),t?.(r),Reflect.get(e,r))})}trackProp(e){this.#p.add(e)}getCurrentQuery(){return this.#s}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){let t=this.#e.defaultQueryOptions(e),r=this.#e.getQueryCache().build(this.#e,t);return r.fetch().then(()=>this.createResult(r,t))}fetch(e){return this.#m({...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#n))}#m(e){this.#v();let t=this.#s.fetch(this.options,e);return e?.throwOnError||(t=t.catch(u.noop)),t}#b(){this.#g();let e=(0,u.resolveStaleTime)(this.options.staleTime,this.#s);if(u.isServer||this.#n.isStale||!(0,u.isValidTimeout)(e))return;let t=(0,u.timeUntilStale)(this.#n.dataUpdatedAt,e);this.#c=setTimeout(()=>{this.#n.isStale||this.updateResult()},t+1)}#I(){return("function"==typeof this.options.refetchInterval?this.options.refetchInterval(this.#s):this.options.refetchInterval)??!1}#w(e){this.#y(),this.#f=e,!u.isServer&&!1!==(0,u.resolveEnabled)(this.options.enabled,this.#s)&&(0,u.isValidTimeout)(this.#f)&&0!==this.#f&&(this.#d=setInterval(()=>{(this.options.refetchIntervalInBackground||r.focusManager.isFocused())&&this.#m()},this.#f))}#_(){this.#b(),this.#w(this.#I())}#g(){this.#c&&(clearTimeout(this.#c),this.#c=void 0)}#y(){this.#d&&(clearInterval(this.#d),this.#d=void 0)}createResult(e,t){let r,s=this.#s,n=this.options,l=this.#n,h=this.#o,f=this.#u,p=e!==s?e.state:this.#i,{state:m}=e,_={...m},g=!1;if(t._optimisticResults){let r=this.hasListeners(),o=!r&&a(e,t),u=r&&c(e,s,t,n);(o||u)&&(_={..._,...(0,i.fetchState)(m.data,e.options)}),"isRestoring"===t._optimisticResults&&(_.fetchStatus="idle")}let{error:y,errorUpdatedAt:v,status:b}=_;r=_.data;let I=!1;if(void 0!==t.placeholderData&&void 0===r&&"pending"===b){let e;l?.isPlaceholderData&&t.placeholderData===f?.placeholderData?(e=l.data,I=!0):e="function"==typeof t.placeholderData?t.placeholderData(this.#h?.state.data,this.#h):t.placeholderData,void 0!==e&&(b="success",r=(0,u.replaceData)(l?.data,e,t),g=!0)}if(t.select&&void 0!==r&&!I)if(l&&r===h?.data&&t.select===this.#l)r=this.#a;else try{this.#l=t.select,r=t.select(r),r=(0,u.replaceData)(l?.data,r,t),this.#a=r,this.#t=null}catch(e){this.#t=e}this.#t&&(y=this.#t,r=this.#a,v=Date.now(),b="error");let w="fetching"===_.fetchStatus,S="pending"===b,R="error"===b,x=S&&w,T=void 0!==r,O={status:b,fetchStatus:_.fetchStatus,isPending:S,isSuccess:"success"===b,isError:R,isInitialLoading:x,isLoading:x,data:r,dataUpdatedAt:_.dataUpdatedAt,error:y,errorUpdatedAt:v,failureCount:_.fetchFailureCount,failureReason:_.fetchFailureReason,errorUpdateCount:_.errorUpdateCount,isFetched:_.dataUpdateCount>0||_.errorUpdateCount>0,isFetchedAfterMount:_.dataUpdateCount>p.dataUpdateCount||_.errorUpdateCount>p.errorUpdateCount,isFetching:w,isRefetching:w&&!S,isLoadingError:R&&!T,isPaused:"paused"===_.fetchStatus,isPlaceholderData:g,isRefetchError:R&&T,isStale:d(e,t),refetch:this.refetch,promise:this.#r};if(this.options.experimental_prefetchInRender){let t=e=>{"error"===O.status?e.reject(O.error):void 0!==O.data&&e.resolve(O.data)},r=()=>{t(this.#r=O.promise=(0,o.pendingThenable)())},i=this.#r;switch(i.status){case"pending":e.queryHash===s.queryHash&&t(i);break;case"fulfilled":("error"===O.status||O.data!==i.value)&&r();break;case"rejected":("error"!==O.status||O.error!==i.reason)&&r()}}return O}updateResult(){let e=this.#n,t=this.createResult(this.#s,this.options);if(this.#o=this.#s.state,this.#u=this.options,void 0!==this.#o.data&&(this.#h=this.#s),(0,u.shallowEqualObjects)(t,e))return;this.#n=t;let r=()=>{if(!e)return!0;let{notifyOnChangeProps:t}=this.options,r="function"==typeof t?t():t;if("all"===r||!r&&!this.#p.size)return!0;let s=new Set(r??this.#p);return this.options.throwOnError&&s.add("error"),Object.keys(this.#n).some(t=>this.#n[t]!==e[t]&&s.has(t))};this.#S({listeners:r()})}#v(){let e=this.#e.getQueryCache().build(this.#e,this.options);if(e===this.#s)return;let t=this.#s;this.#s=e,this.#i=e.state,this.hasListeners()&&(t?.removeObserver(this),e.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#_()}#S(e){s.notifyManager.batch(()=>{e.listeners&&this.listeners.forEach(e=>{e(this.#n)}),this.#e.getQueryCache().notify({query:this.#s,type:"observerResultsUpdated"})})}};function a(e,t){return!1!==(0,u.resolveEnabled)(t.enabled,e)&&void 0===e.state.data&&("error"!==e.state.status||!1!==t.retryOnMount)||void 0!==e.state.data&&h(e,t,t.refetchOnMount)}function h(e,t,r){if(!1!==(0,u.resolveEnabled)(t.enabled,e)){let s="function"==typeof r?r(e):r;return"always"===s||!1!==s&&d(e,t)}return!1}function c(e,t,r,s){return(e!==t||!1===(0,u.resolveEnabled)(s.enabled,e))&&(!r.suspense||"error"!==e.state.status)&&d(e,r)}function d(e,t){return!1!==(0,u.resolveEnabled)(t.enabled,e)&&e.isStaleByTime((0,u.resolveStaleTime)(t.staleTime,e))}e.i(48700);var f=e.i(13368),p=e.i(46763);e.i(91140);var m=f.createContext((t=!1,{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t})),_=f.createContext(!1);_.Provider;var g=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function y(e,t){return function(e,t,r){let i,n=(0,p.useQueryClient)(r),o=f.useContext(_),l=f.useContext(m),a=n.defaultQueryOptions(e);n.getDefaultOptions().queries?._experimental_beforeQuery?.(a),a._optimisticResults=o?"isRestoring":"optimistic",i=a.staleTime,a.suspense&&(a.staleTime="function"==typeof i?(...e)=>Math.max(i(...e),1e3):Math.max(i??1e3,1e3),"number"==typeof a.gcTime&&(a.gcTime=Math.max(a.gcTime,1e3))),(a.suspense||a.throwOnError||a.experimental_prefetchInRender)&&!l.isReset()&&(a.retryOnMount=!1),f.useEffect(()=>{l.clearReset()},[l]);let h=!n.getQueryCache().get(a.queryHash),[c]=f.useState(()=>new t(n,a)),d=c.getOptimisticResult(a),y=!o&&!1!==e.subscribed;if(f.useSyncExternalStore(f.useCallback(e=>{let t=y?c.subscribe(s.notifyManager.batchCalls(e)):u.noop;return c.updateResult(),t},[c,y]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),f.useEffect(()=>{c.setOptions(a)},[a,c]),a?.suspense&&d.isPending)throw g(a,c,l);if((({result:e,errorResetBoundary:t,throwOnError:r,query:s,suspense:i})=>e.isError&&!t.isReset()&&!e.isFetching&&s&&(i&&void 0===e.data||(0,u.shouldThrowError)(r,[e.error,s])))({result:d,errorResetBoundary:l,throwOnError:a.throwOnError,query:n.getQueryCache().get(a.queryHash),suspense:a.suspense}))throw d.error;if(n.getDefaultOptions().queries?._experimental_afterQuery?.(a,d),a.experimental_prefetchInRender&&!u.isServer&&d.isLoading&&d.isFetching&&!o){let e=h?g(a,c,l):n.getQueryCache().get(a.queryHash)?.promise;e?.catch(u.noop).finally(()=>{c.updateResult()})}return a.notifyOnChangeProps?d:c.trackResult(d)}(e,l,t)}e.s(["useQuery",()=>y],57401);let v="KEYS",b="VALUES";class I{constructor(e,t){const r=e._tree,s=Array.from(r.keys());this.set=e,this._type=t,this._path=s.length>0?[{node:r,keys:s}]:[]}next(){let e=this.dive();return this.backtrack(),e}dive(){if(0===this._path.length)return{done:!0,value:void 0};let{node:e,keys:t}=w(this._path);if(""===w(t))return{done:!1,value:this.result()};let r=e.get(w(t));return this._path.push({node:r,keys:Array.from(r.keys())}),this.dive()}backtrack(){if(0===this._path.length)return;let e=w(this._path).keys;e.pop(),e.length>0||(this._path.pop(),this.backtrack())}key(){return this.set._prefix+this._path.map(({keys:e})=>w(e)).filter(e=>""!==e).join("")}value(){return w(this._path).node.get("")}result(){switch(this._type){case b:return this.value();case v:return this.key();default:return[this.key(),this.value()]}}[Symbol.iterator](){return this}}let w=e=>e[e.length-1],S=(e,t,r,s,i,n,o,u)=>{let l=n*o;e:for(let a of e.keys())if(""===a){let t=i[l-1];t<=r&&s.set(u,[e.get(a),t])}else{let l=n;for(let e=0;e<a.length;++e,++l){let s=a[e],n=o*l,u=n-o,h=i[n],c=Math.max(0,l-r-1),d=Math.min(o-1,l+r);for(let e=c;e<d;++e){let r=s!==t[e],o=i[u+e]+ +r,l=i[u+e+1]+1,a=i[n+e]+1,c=i[n+e+1]=Math.min(o,l,a);c<h&&(h=c)}if(h>r)continue e}S(e.get(a),t,r,s,i,l,o,u+a)}};class R{constructor(e=new Map,t=""){this._size=void 0,this._tree=e,this._prefix=t}atPrefix(e){if(!e.startsWith(this._prefix))throw Error("Mismatched prefix");let[t,r]=x(this._tree,e.slice(this._prefix.length));if(void 0===t){let[t,s]=F(r);for(let r of t.keys())if(""!==r&&r.startsWith(s)){let i=new Map;return i.set(r.slice(s.length),t.get(r)),new R(i,e)}}return new R(t,e)}clear(){this._size=void 0,this._tree.clear()}delete(e){return this._size=void 0,C(this._tree,e)}entries(){return new I(this,"ENTRIES")}forEach(e){for(let[t,r]of this)e(t,r,this)}fuzzyGet(e,t){return((e,t,r)=>{let s=new Map;if(void 0===t)return s;let i=t.length+1,n=i+r,o=new Uint8Array(n*i).fill(r+1);for(let e=0;e<i;++e)o[e]=e;for(let e=1;e<n;++e)o[e*i]=e;return S(e,t,r,s,o,1,i,""),s})(this._tree,e,t)}get(e){let t=T(this._tree,e);return void 0!==t?t.get(""):void 0}has(e){let t=T(this._tree,e);return void 0!==t&&t.has("")}keys(){return new I(this,v)}set(e,t){if("string"!=typeof e)throw Error("key must be a string");return this._size=void 0,O(this._tree,e).set("",t),this}get size(){if(this._size)return this._size;this._size=0;let e=this.entries();for(;!e.next().done;)this._size+=1;return this._size}update(e,t){if("string"!=typeof e)throw Error("key must be a string");this._size=void 0;let r=O(this._tree,e);return r.set("",t(r.get(""))),this}fetch(e,t){if("string"!=typeof e)throw Error("key must be a string");this._size=void 0;let r=O(this._tree,e),s=r.get("");return void 0===s&&r.set("",s=t()),s}values(){return new I(this,b)}[Symbol.iterator](){return this.entries()}static from(e){let t=new R;for(let[r,s]of e)t.set(r,s);return t}static fromObject(e){return R.from(Object.entries(e))}}let x=(e,t,r=[])=>{if(0===t.length||null==e)return[e,r];for(let s of e.keys())if(""!==s&&t.startsWith(s))return r.push([e,s]),x(e.get(s),t.slice(s.length),r);return r.push([e,t]),x(void 0,"",r)},T=(e,t)=>{if(0===t.length||null==e)return e;for(let r of e.keys())if(""!==r&&t.startsWith(r))return T(e.get(r),t.slice(r.length))},O=(e,t)=>{let r=t.length;t:for(let s=0;e&&s<r;){for(let i of e.keys())if(""!==i&&t[s]===i[0]){let n=Math.min(r-s,i.length),o=1;for(;o<n&&t[s+o]===i[o];)++o;let u=e.get(i);if(o===i.length)e=u;else{let r=new Map;r.set(i.slice(o),u),e.set(t.slice(s,s+o),r),e.delete(i),e=r}s+=o;continue t}let i=new Map;return e.set(t.slice(s),i),i}return e},C=(e,t)=>{let[r,s]=x(e,t);if(void 0!==r){if(r.delete(""),0===r.size)Q(s);else if(1===r.size){let[e,t]=r.entries().next().value;E(s,e,t)}}},Q=e=>{if(0===e.length)return;let[t,r]=F(e);if(t.delete(r),0===t.size)Q(e.slice(0,-1));else if(1===t.size){let[r,s]=t.entries().next().value;""!==r&&E(e.slice(0,-1),r,s)}},E=(e,t,r)=>{if(0===e.length)return;let[s,i]=F(e);s.set(i+t,r),s.delete(i)},F=e=>e[e.length-1];class M{constructor(e){if((null==e?void 0:e.fields)==null)throw Error('MiniSearch: option "fields" must be provided');const t=null==e.autoVacuum||!0===e.autoVacuum?U:e.autoVacuum;this._options={...L,...e,autoVacuum:t,searchOptions:{...A,...e.searchOptions||{}},autoSuggestOptions:{...j,...e.autoSuggestOptions||{}}},this._index=new R,this._documentCount=0,this._documentIds=new Map,this._idToShortId=new Map,this._fieldIds={},this._fieldLength=new Map,this._avgFieldLength=[],this._nextId=0,this._storedFields=new Map,this._dirtCount=0,this._currentVacuum=null,this._enqueuedVacuum=null,this._enqueuedVacuumConditions=q,this.addFields(this._options.fields)}add(e){let{extractField:t,tokenize:r,processTerm:s,fields:i,idField:n}=this._options,o=t(e,n);if(null==o)throw Error(`MiniSearch: document does not have ID field "${n}"`);if(this._idToShortId.has(o))throw Error(`MiniSearch: duplicate ID ${o}`);let u=this.addDocumentId(o);for(let n of(this.saveStoredFields(u,e),i)){let i=t(e,n);if(null==i)continue;let o=r(i.toString(),n),l=this._fieldIds[n],a=new Set(o).size;for(let e of(this.addFieldLength(u,l,this._documentCount-1,a),o)){let t=s(e,n);if(Array.isArray(t))for(let e of t)this.addTerm(l,u,e);else t&&this.addTerm(l,u,t)}}}addAll(e){for(let t of e)this.add(t)}addAllAsync(e,t={}){let{chunkSize:r=10}=t,s={chunk:[],promise:Promise.resolve()},{chunk:i,promise:n}=e.reduce(({chunk:e,promise:t},s,i)=>(e.push(s),(i+1)%r==0)?{chunk:[],promise:t.then(()=>new Promise(e=>setTimeout(e,0))).then(()=>this.addAll(e))}:{chunk:e,promise:t},s);return n.then(()=>this.addAll(i))}remove(e){let{tokenize:t,processTerm:r,extractField:s,fields:i,idField:n}=this._options,o=s(e,n);if(null==o)throw Error(`MiniSearch: document does not have ID field "${n}"`);let u=this._idToShortId.get(o);if(null==u)throw Error(`MiniSearch: cannot remove document with ID ${o}: it is not in the index`);for(let n of i){let i=s(e,n);if(null==i)continue;let o=t(i.toString(),n),l=this._fieldIds[n],a=new Set(o).size;for(let e of(this.removeFieldLength(u,l,this._documentCount,a),o)){let t=r(e,n);if(Array.isArray(t))for(let e of t)this.removeTerm(l,u,e);else t&&this.removeTerm(l,u,t)}}this._storedFields.delete(u),this._documentIds.delete(u),this._idToShortId.delete(o),this._fieldLength.delete(u),this._documentCount-=1}removeAll(e){if(e)for(let t of e)this.remove(t);else if(arguments.length>0)throw Error("Expected documents to be present. Omit the argument to remove all documents.");else this._index=new R,this._documentCount=0,this._documentIds=new Map,this._idToShortId=new Map,this._fieldLength=new Map,this._avgFieldLength=[],this._storedFields=new Map,this._nextId=0}discard(e){let t=this._idToShortId.get(e);if(null==t)throw Error(`MiniSearch: cannot discard document with ID ${e}: it is not in the index`);this._idToShortId.delete(e),this._documentIds.delete(t),this._storedFields.delete(t),(this._fieldLength.get(t)||[]).forEach((e,r)=>{this.removeFieldLength(t,r,this._documentCount,e)}),this._fieldLength.delete(t),this._documentCount-=1,this._dirtCount+=1,this.maybeAutoVacuum()}maybeAutoVacuum(){if(!1===this._options.autoVacuum)return;let{minDirtFactor:e,minDirtCount:t,batchSize:r,batchWait:s}=this._options.autoVacuum;this.conditionalVacuum({batchSize:r,batchWait:s},{minDirtCount:t,minDirtFactor:e})}discardAll(e){let t=this._options.autoVacuum;try{for(let t of(this._options.autoVacuum=!1,e))this.discard(t)}finally{this._options.autoVacuum=t}this.maybeAutoVacuum()}replace(e){let{idField:t,extractField:r}=this._options,s=r(e,t);this.discard(s),this.add(e)}vacuum(e={}){return this.conditionalVacuum(e)}conditionalVacuum(e,t){return this._currentVacuum?(this._enqueuedVacuumConditions=this._enqueuedVacuumConditions&&t,null!=this._enqueuedVacuum||(this._enqueuedVacuum=this._currentVacuum.then(()=>{let t=this._enqueuedVacuumConditions;return this._enqueuedVacuumConditions=q,this.performVacuuming(e,t)})),this._enqueuedVacuum):!1===this.vacuumConditionsMet(t)?Promise.resolve():(this._currentVacuum=this.performVacuuming(e),this._currentVacuum)}async performVacuuming(e,t){let r=this._dirtCount;if(this.vacuumConditionsMet(t)){let t=e.batchSize||P.batchSize,s=e.batchWait||P.batchWait,i=1;for(let[e,r]of this._index){for(let[e,t]of r)for(let[s]of t)this._documentIds.has(s)||(t.size<=1?r.delete(e):t.delete(s));0===this._index.get(e).size&&this._index.delete(e),i%t==0&&await new Promise(e=>setTimeout(e,s)),i+=1}this._dirtCount-=r}await null,this._currentVacuum=this._enqueuedVacuum,this._enqueuedVacuum=null}vacuumConditionsMet(e){if(null==e)return!0;let{minDirtCount:t,minDirtFactor:r}=e;return t=t||U.minDirtCount,r=r||U.minDirtFactor,this.dirtCount>=t&&this.dirtFactor>=r}get isVacuuming(){return null!=this._currentVacuum}get dirtCount(){return this._dirtCount}get dirtFactor(){return this._dirtCount/(1+this._documentCount+this._dirtCount)}has(e){return this._idToShortId.has(e)}getStoredFields(e){let t=this._idToShortId.get(e);if(null!=t)return this._storedFields.get(t)}search(e,t={}){let{searchOptions:r}=this._options,s={...r,...t},i=this.executeQuery(e,t),n=[];for(let[e,{score:t,terms:r,match:o}]of i){let i=r.length||1,u={id:this._documentIds.get(e),score:t*i,terms:Object.keys(o),queryTerms:r,match:o};Object.assign(u,this._storedFields.get(e)),(null==s.filter||s.filter(u))&&n.push(u)}return e===M.wildcard&&null==s.boostDocument||n.sort(J),n}autoSuggest(e,t={}){t={...this._options.autoSuggestOptions,...t};let r=new Map;for(let{score:s,terms:i}of this.search(e,t)){let e=i.join(" "),t=r.get(e);null!=t?(t.score+=s,t.count+=1):r.set(e,{score:s,terms:i,count:1})}let s=[];for(let[e,{score:t,terms:i,count:n}]of r)s.push({suggestion:e,terms:i,score:t/n});return s.sort(J),s}get documentCount(){return this._documentCount}get termCount(){return this._index.size}static loadJSON(e,t){if(null==t)throw Error("MiniSearch: loadJSON should be given the same options used when serializing the index");return this.loadJS(JSON.parse(e),t)}static async loadJSONAsync(e,t){if(null==t)throw Error("MiniSearch: loadJSON should be given the same options used when serializing the index");return this.loadJSAsync(JSON.parse(e),t)}static getDefault(e){if(L.hasOwnProperty(e))return z(L,e);throw Error(`MiniSearch: unknown option "${e}"`)}static loadJS(e,t){let{index:r,documentIds:s,fieldLength:i,storedFields:n,serializationVersion:o}=e,u=this.instantiateMiniSearch(e,t);for(let[e,t]of(u._documentIds=B(s),u._fieldLength=B(i),u._storedFields=B(n),u._documentIds))u._idToShortId.set(t,e);for(let[e,t]of r){let r=new Map;for(let e of Object.keys(t)){let s=t[e];1===o&&(s=s.ds),r.set(parseInt(e,10),B(s))}u._index.set(e,r)}return u}static async loadJSAsync(e,t){let{index:r,documentIds:s,fieldLength:i,storedFields:n,serializationVersion:o}=e,u=this.instantiateMiniSearch(e,t);for(let[e,t]of(u._documentIds=await H(s),u._fieldLength=await H(i),u._storedFields=await H(n),u._documentIds))u._idToShortId.set(t,e);let l=0;for(let[e,t]of r){let r=new Map;for(let e of Object.keys(t)){let s=t[e];1===o&&(s=s.ds),r.set(parseInt(e,10),await H(s))}++l%1e3==0&&await K(0),u._index.set(e,r)}return u}static instantiateMiniSearch(e,t){let{documentCount:r,nextId:s,fieldIds:i,averageFieldLength:n,dirtCount:o,serializationVersion:u}=e;if(1!==u&&2!==u)throw Error("MiniSearch: cannot deserialize an index created with an incompatible version");let l=new M(t);return l._documentCount=r,l._nextId=s,l._idToShortId=new Map,l._fieldIds=i,l._avgFieldLength=n,l._dirtCount=o||0,l._index=new R,l}executeQuery(e,t={}){if(e===M.wildcard)return this.executeWildcardQuery(t);if("string"!=typeof e){let r={...t,...e,queries:void 0},s=e.queries.map(e=>this.executeQuery(e,r));return this.combineResults(s,r.combineWith)}let{tokenize:r,processTerm:s,searchOptions:i}=this._options,n={tokenize:r,processTerm:s,...i,...t},{tokenize:o,processTerm:u}=n,l=o(e).flatMap(e=>u(e)).filter(e=>!!e).map(D(n)).map(e=>this.executeQuerySpec(e,n));return this.combineResults(l,n.combineWith)}executeQuerySpec(e,t){let r,s,i={...this._options.searchOptions,...t},n=(i.fields||this._options.fields).reduce((e,t)=>({...e,[t]:z(i.boost,t)||1}),{}),{boostDocument:o,weights:u,maxFuzzy:l,bm25:a}=i,{fuzzy:h,prefix:c}={...A.weights,...u},d=this._index.get(e.term),f=this.termResults(e.term,e.term,1,e.termBoost,d,n,o,a);if(e.prefix&&(r=this._index.atPrefix(e.term)),e.fuzzy){let t=!0===e.fuzzy?.2:e.fuzzy,r=t<1?Math.min(l,Math.round(e.term.length*t)):t;r&&(s=this._index.fuzzyGet(e.term,r))}if(r)for(let[t,i]of r){let r=t.length-e.term.length;if(!r)continue;null==s||s.delete(t);let u=c*t.length/(t.length+.3*r);this.termResults(e.term,t,u,e.termBoost,i,n,o,a,f)}if(s)for(let t of s.keys()){let[r,i]=s.get(t);if(!i)continue;let u=h*t.length/(t.length+i);this.termResults(e.term,t,u,e.termBoost,r,n,o,a,f)}return f}executeWildcardQuery(e){let t=new Map,r={...this._options.searchOptions,...e};for(let[e,s]of this._documentIds){let i=r.boostDocument?r.boostDocument(s,"",this._storedFields.get(e)):1;t.set(e,{score:i,terms:[],match:{}})}return t}combineResults(e,t="or"){if(0===e.length)return new Map;let r=k[t.toLowerCase()];if(!r)throw Error(`Invalid combination operator: ${t}`);return e.reduce(r)||new Map}toJSON(){let e=[];for(let[t,r]of this._index){let s={};for(let[e,t]of r)s[e]=Object.fromEntries(t);e.push([t,s])}return{documentCount:this._documentCount,nextId:this._nextId,documentIds:Object.fromEntries(this._documentIds),fieldIds:this._fieldIds,fieldLength:Object.fromEntries(this._fieldLength),averageFieldLength:this._avgFieldLength,storedFields:Object.fromEntries(this._storedFields),dirtCount:this._dirtCount,index:e,serializationVersion:2}}termResults(e,t,r,s,i,n,o,u,l=new Map){if(null==i)return l;for(let a of Object.keys(n)){let h=n[a],c=this._fieldIds[a],d=i.get(c);if(null==d)continue;let f=d.size,p=this._avgFieldLength[c];for(let i of d.keys()){if(!this._documentIds.has(i)){this.removeTerm(c,i,t),f-=1;continue}let n=o?o(this._documentIds.get(i),t,this._storedFields.get(i)):1;if(!n)continue;let m=d.get(i),_=this._fieldLength.get(i)[c],g=r*s*h*n*V(m,f,this._documentCount,_,p,u),y=l.get(i);if(y){y.score+=g,W(y.terms,e);let r=z(y.match,t);r?r.push(a):y.match[t]=[a]}else l.set(i,{score:g,terms:[e],match:{[t]:[a]}})}}return l}addTerm(e,t,r){let s=this._index.fetch(r,$),i=s.get(e);if(null==i)(i=new Map).set(t,1),s.set(e,i);else{let e=i.get(t);i.set(t,(e||0)+1)}}removeTerm(e,t,r){if(!this._index.has(r))return void this.warnDocumentChanged(t,e,r);let s=this._index.fetch(r,$),i=s.get(e);null==i||null==i.get(t)?this.warnDocumentChanged(t,e,r):1>=i.get(t)?i.size<=1?s.delete(e):i.delete(t):i.set(t,i.get(t)-1),0===this._index.get(r).size&&this._index.delete(r)}warnDocumentChanged(e,t,r){for(let s of Object.keys(this._fieldIds))if(this._fieldIds[s]===t)return void this._options.logger("warn",`MiniSearch: document with ID ${this._documentIds.get(e)} has changed before removal: term "${r}" was not present in field "${s}". Removing a document after it has changed can corrupt the index!`,"version_conflict")}addDocumentId(e){let t=this._nextId;return this._idToShortId.set(e,t),this._documentIds.set(t,e),this._documentCount+=1,this._nextId+=1,t}addFields(e){for(let t=0;t<e.length;t++)this._fieldIds[e[t]]=t}addFieldLength(e,t,r,s){let i=this._fieldLength.get(e);null==i&&this._fieldLength.set(e,i=[]),i[t]=s;let n=this._avgFieldLength[t]||0;this._avgFieldLength[t]=(n*r+s)/(r+1)}removeFieldLength(e,t,r,s){if(1===r){this._avgFieldLength[t]=0;return}let i=this._avgFieldLength[t]*r-s;this._avgFieldLength[t]=i/(r-1)}saveStoredFields(e,t){let{storeFields:r,extractField:s}=this._options;if(null==r||0===r.length)return;let i=this._storedFields.get(e);for(let n of(null==i&&this._storedFields.set(e,i={}),r)){let e=s(t,n);void 0!==e&&(i[n]=e)}}}M.wildcard=Symbol("*");let z=(e,t)=>Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0,k={or:(e,t)=>{for(let r of t.keys()){let s=e.get(r);if(null==s)e.set(r,t.get(r));else{let{score:e,terms:i,match:n}=t.get(r);s.score=s.score+e,s.match=Object.assign(s.match,n),N(s.terms,i)}}return e},and:(e,t)=>{let r=new Map;for(let s of t.keys()){let i=e.get(s);if(null==i)continue;let{score:n,terms:o,match:u}=t.get(s);N(i.terms,o),r.set(s,{score:i.score+n,terms:i.terms,match:Object.assign(i.match,u)})}return r},and_not:(e,t)=>{for(let r of t.keys())e.delete(r);return e}},V=(e,t,r,s,i,n)=>{let{k:o,b:u,d:l}=n;return Math.log(1+(r-t+.5)/(t+.5))*(l+e*(o+1)/(e+o*(1-u+u*s/i)))},D=e=>(t,r,s)=>{let i="function"==typeof e.fuzzy?e.fuzzy(t,r,s):e.fuzzy||!1,n="function"==typeof e.prefix?e.prefix(t,r,s):!0===e.prefix,o="function"==typeof e.boostTerm?e.boostTerm(t,r,s):1;return{term:t,fuzzy:i,prefix:n,termBoost:o}},L={idField:"id",extractField:(e,t)=>e[t],tokenize:e=>e.split(G),processTerm:e=>e.toLowerCase(),fields:void 0,searchOptions:void 0,storeFields:[],logger:(e,t)=>{"function"==typeof(null==console?void 0:console[e])&&console[e](t)},autoVacuum:!0},A={combineWith:"or",prefix:!1,fuzzy:!1,maxFuzzy:6,boost:{},weights:{fuzzy:.45,prefix:.375},bm25:{k:1.2,b:.7,d:.5}},j={combineWith:"and",prefix:(e,t,r)=>t===r.length-1},P={batchSize:1e3,batchWait:10},q={minDirtFactor:.1,minDirtCount:20},U={...P,...q},W=(e,t)=>{e.includes(t)||e.push(t)},N=(e,t)=>{for(let r of t)e.includes(r)||e.push(r)},J=({score:e},{score:t})=>t-e,$=()=>new Map,B=e=>{let t=new Map;for(let r of Object.keys(e))t.set(parseInt(r,10),e[r]);return t},H=async e=>{let t=new Map,r=0;for(let s of Object.keys(e))t.set(parseInt(s,10),e[s]),++r%1e3==0&&await K(0);return t},K=e=>new Promise(t=>setTimeout(t,e)),G=/[\n\r\p{Z}\p{P}]+/u;function Y(e,t){let{data:r}=y({queryKey:["searchIndex",e],queryFn:async()=>{let r=await fetch(e);if(!r.ok)throw Error(`Failed to fetch search index from ${e}`);let s=await r.text();return M.loadJSON(s,t)},staleTime:1/0,gcTime:36e5});return r||null}e.s(["useSearchIndex",()=>Y],36407)},75624,e=>{e.v({author:"PostAuthor-module__I_4Taa__author","author-avatar":"PostAuthor-module__I_4Taa__author-avatar","author-small":"PostAuthor-module__I_4Taa__author-small",separator:"PostAuthor-module__I_4Taa__separator","separator-small":"PostAuthor-module__I_4Taa__separator-small"})},94850,e=>{"use strict";var t=e.i(91140),r=e.i(7284),s=e.i(81539),i=e.i(72690),n=e.i(75624);let o=({size:e="default"})=>(0,t.jsx)("span",{className:(0,r.clsx)(n.default.separator,"small"===e&&n.default["separator-small"]),children:"â€¢"});e.s(["BlogPostAuthor",0,({author:e,avatar:u,size:l="default",separator:a=!0})=>(0,t.jsxs)(i.default,{href:`/blog/author/${e}`,className:(0,r.clsx)(n.default.author,"small"===l&&n.default["author-small"]),children:[u?(0,t.jsx)(s.default,{src:u,alt:"",className:n.default["author-avatar"]}):(0,t.jsx)("div",{className:n.default["author-avatar"]}),(0,t.jsx)("span",{children:e}),a&&(0,t.jsx)(o,{size:l})]}),"BlogPostAuthorSeparator",0,o])}]);